@using ManagementApp.Core.ViewModels.Department
@model IEnumerable<DepartmentViewModel>

@{
	ViewData["Title"] = "Departments";
}

<div class="departments-container p-3 bg-white rounded shadow-sm">
	<!-- Add Department Button Row -->
	<div class="d-flex justify-content-end">
		<a class="btn btn-add btn-outline-dark"
		   style="height: 40px; width: 200px;" 
		   asp-action="Add" method="get">Add Department</a>
	</div>
</div>


	<!-- Scrollable Table -->
<div class="table-container">
	<table class="table table-striped">
		<table class="table table-striped table-bordered align-middle">
			<thead class="table-light sticky-top">
				<tr>
					<th>Department</th>
					<th>Employees Count</th>
					<th class="text-center">Actions</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var department in Model)
				{
					<tr>
						<td>@department.Name</td>
						<td>@department.EmployeesCount</td>
						<td class="text-center">
							@if (department.IsDeleted == true)
							{
								<a class="btn btn-include btn-outline-dark" style="height: 40px; width: 100px;"
								   asp-action="Include" method="get" asp-route-id="@department.Id">Include</a>
							}
							else
							{
								<a class="btn btn-custom btn-outline-dark" style="height: 40px; width: 100px;"
								   asp-action="Edit" method="get" asp-route-id="@department.Id">Edit</a>

								@if(department.EmployeesCount == 0)
								{
									<a class="btn btn-delete btn-outline-dark" style="height: 40px; width: 100px;"
									   asp-action="Delete" method="get" asp-route-id="@department.Id">Delete</a>
								}
							}													
						</td>
					</tr>
				}
			</tbody>
		</table>
	</table>
</div>