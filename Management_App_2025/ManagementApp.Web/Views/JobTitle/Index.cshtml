@using ManagementApp.Core.ViewModels.JobTitle
@model IEnumerable<JobTitleViewModel>

@{
	ViewData["Title"] = "Job Titles";
}

<div class="job-title-container p-3 bg-white rounded shadow-sm">
	<!-- Add Job Title Button Row -->
	<div class="d-flex justify-content-end">
		<a class="btn btn-add btn-outline-dark"
		   style="height: 40px; width: 230px;"
		   asp-action="Add" method="get">Add Job Title</a>
	</div>
</div>


<!-- Scrollable Table -->
<div class="table-container">
	<table class="table table-striped">
		<table class="table table-striped table-bordered align-middle">
			<thead class="table-light sticky-top">
				<tr>
					<th>Job Title</th>
					<th>Employees Count</th>
					<th class="text-center">Actions</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var jobTitle in Model)
				{
					<tr>
						<td>@jobTitle.Name</td>
						<td>@jobTitle.EmployeesCount</td>
						<td class="text-center">
							@if (jobTitle.IsDeleted == true)
							{
								<a class="btn btn-include btn-outline-dark" style="height: 40px; width: 100px;"
								   asp-action="Include" method="get" asp-route-id="@jobTitle.Id">Include</a>
							}
							else
							{
								<a class="btn btn-custom btn-outline-dark" style="height: 40px; width: 100px;"
								   asp-action="Edit" method="get" asp-route-id="@jobTitle.Id">Edit</a>

								@if (jobTitle.EmployeesCount == 0)
								{
									<a class="btn btn-delete btn-outline-dark" style="height: 40px; width: 100px;"
									   asp-action="Delete" method="get" asp-route-id="@jobTitle.Id">Delete</a>
								}
							}
						</td>
					</tr>
				}
			</tbody>
		</table>
	</table>
</div>